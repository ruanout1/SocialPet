-- MySQL Script generated by MySQL Workbench
-- Wed Apr 30 14:23:34 2025
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema SocialPet
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema `SocialPet`
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS SocialPet;
CREATE SCHEMA SocialPet DEFAULT CHARACTER SET utf8;
USE SocialPet;



-- -----------------------------------------------------
-- Table `SocialPet`.`usuario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`usuario` (
  `id_usuario` INT NOT NULL,
  `nome_usuario` VARCHAR(90) NOT NULL,
  `email_usuario` VARCHAR(100) NOT NULL,
  `data_nasci` DATETIME NOT NULL,
  `tel_usuario` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`id_usuario`),
  UNIQUE INDEX `id_usuario_UNIQUE` (`id_usuario` ASC) VISIBLE,
  UNIQUE INDEX `email_usuario_UNIQUE` (`email_usuario` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SocialPet`.`pet`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`pet` (
  `id_pet` INT NOT NULL,
  `nome_pet` VARCHAR(45) NOT NULL,
  `data_nasc` DATETIME NOT NULL,
  `foto_pet` VARCHAR(255) NULL,
  `id_usuario` INT NOT NULL,
  `id_raca` INT NOT NULL,
  `id_especie` INT NOT NULL,
  PRIMARY KEY (`id_pet`),
  INDEX `fk_pet_usuario1_idx` (`id_usuario` ASC) VISIBLE,
  INDEX `fk_pet_raca1_idx` (`id_raca` ASC) VISIBLE,
  INDEX `fk_pet_especie1_idx` (`id_especie` ASC) VISIBLE,
  CONSTRAINT `fk_pet_usuario1`
    FOREIGN KEY (`id_usuario`)
    REFERENCES `SocialPet`.`usuario` (`id_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_pet_raca1`
    FOREIGN KEY (`id_raca`)
    REFERENCES `SocialPet`.`raca` (`id_raca`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_pet_especie1`
    FOREIGN KEY (`id_especie`)
    REFERENCES `SocialPet`.`especie` (`id_especie`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SocialPet`.`post`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`post` (
  `id_post` INT NOT NULL,
  `img_post` VARCHAR(255) NOT NULL,
  `legenda_post` VARCHAR(255) NOT NULL,
  `data_post` DATETIME NULL,
  `id_usuario` INT NOT NULL,
  PRIMARY KEY (`id_post`),
  INDEX `fk_post_usuario1_idx` (`id_usuario` ASC) VISIBLE,
  UNIQUE INDEX `id_post_UNIQUE` (`id_post` ASC) VISIBLE,
  CONSTRAINT `fk_post_usuario1`
    FOREIGN KEY (`id_usuario`)
    REFERENCES `SocialPet`.`usuario` (`id_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SocialPet`.`curtida`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`curtida` (
  `id_curtida` INT NOT NULL,
  `data_curt` DATETIME NOT NULL,
  `id_post` INT NOT NULL,
  `id_usuario` INT NOT NULL,
  PRIMARY KEY (`id_curtida`),
  INDEX `fk_curtida_post1_idx` (`id_post` ASC) VISIBLE,
  UNIQUE INDEX `id_curtida_UNIQUE` (`id_curtida` ASC) VISIBLE,
  CONSTRAINT `fk_curtida_post1`
    FOREIGN KEY (`id_post`)
    REFERENCES `SocialPet`.`post` (`id_post`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SocialPet`.`comentario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`comentario` (
  `id_comentario` INT NOT NULL,
  `texto_comen` TEXT NOT NULL,
  `data_comen` DATETIME NOT NULL,
  `id_usuario` INT NOT NULL,
  `id_post` INT NOT NULL,
  PRIMARY KEY (`id_comentario`),
  INDEX `fk_comentario_usuario1_idx` (`id_usuario` ASC) VISIBLE,
  INDEX `fk_comentario_post1_idx` (`id_post` ASC) VISIBLE,
  CONSTRAINT `fk_comentario_usuario1`
    FOREIGN KEY (`id_usuario`)
    REFERENCES `SocialPet`.`usuario` (`id_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_comentario_post1`
    FOREIGN KEY (`id_post`)
    REFERENCES `SocialPet`.`post` (`id_post`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SocialPet`.`market`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`market` (
  `id_market` INT NOT NULL,
  `nome_market` VARCHAR(100) NOT NULL,
  `tipo_market` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id_market`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SocialPet`.`produto`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`produto` (
  `id_produto` INT NOT NULL,
  `nome_produto` VARCHAR(45) NOT NULL,
  `preco_produto` DECIMAL(10,2) NOT NULL,
  `estoque_produto` INT NOT NULL,
  `id_market` INT NOT NULL,
  PRIMARY KEY (`id_produto`),
  INDEX `fk_produto_market1_idx` (`id_market` ASC) VISIBLE,
  CONSTRAINT `fk_produto_market1`
    FOREIGN KEY (`id_market`)
    REFERENCES `SocialPet`.`market` (`id_market`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SocialPet`.`compra`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`compra` (
  `id_compra` INT NOT NULL,
  `qtd_compra` INT NOT NULL,
  `data_compra` DATETIME NOT NULL,
  `status_compra` ENUM('Aprovado', 'Enviado', 'Entregue', 'Pendente', 'Concluida', 'Cancelada') NULL,
  `id_usuario` INT NOT NULL,
  `id_produto` INT NOT NULL,
  PRIMARY KEY (`id_compra`),
  INDEX `fk_compra_usuario1_idx` (`id_usuario` ASC) VISIBLE,
  INDEX `fk_compra_produto1_idx` (`id_produto` ASC) VISIBLE,
  UNIQUE INDEX `id_compra_UNIQUE` (`id_compra` ASC) VISIBLE,
  CONSTRAINT `fk_compra_usuario1`
    FOREIGN KEY (`id_usuario`)
    REFERENCES `SocialPet`.`usuario` (`id_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_compra_produto1`
    FOREIGN KEY (`id_produto`)
    REFERENCES `SocialPet`.`produto` (`id_produto`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SocialPet`.`ong`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`ong` (
  `id_ong` INT NOT NULL,
  `nome_ong` VARCHAR(45) NOT NULL,
  `tel_ong` VARCHAR(20) NOT NULL,
  `email_ong` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`id_ong`),
  UNIQUE INDEX `email.ong_UNIQUE` (`email_ong` ASC) VISIBLE)
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `SocialPet`.`raca`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`raca` (
  `id_raca` INT NOT NULL,
  `nome_raca` VARCHAR(90) NOT NULL,
  PRIMARY KEY (`id_raca`))
ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `SocialPet`.`especie`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SocialPet`.`especie` (
  `id_especie` INT NOT NULL,
  `nome_especie` VARCHAR(90) NOT NULL,
  PRIMARY KEY (`id_especie`),
  UNIQUE INDEX `nome_especie_UNIQUE` (`nome_especie` ASC) VISIBLE)
ENGINE = InnoDB;



SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;




-- Inserir espécies
INSERT INTO especie (id_especie, nome_especie) VALUES
(1, 'Cachorro'),
(2, 'Gato');

-- Inserir raças
INSERT INTO raca (id_raca, nome_raca) VALUES
(1, 'Labrador'),
(2, 'Persa'),
(3, 'Border Collie');

-- Inserir usuários
INSERT INTO usuario (id_usuario, nome_usuario, email_usuario, data_nasci, tel_usuario) VALUES
(1, 'Ana Silva', 'ana.silva@email.com', '1990-01-01', '11999999999'),
(2, 'Bruno Souza', 'bruno.souza@email.com', '1985-07-15', '11988888888'),
(3, 'Carla Pereira', 'carla.pereira@email.com', '1992-03-22', '11977777777');

-- Inserir pets
INSERT INTO pet (id_pet, nome_pet, data_nasc, foto_pet, id_usuario, id_raca, id_especie) VALUES
(1, 'Rex', '2019-03-01', 'rex.jpg', 1, 1, 1),
(2, 'Mimi', '2021-06-12', 'mimi.jpg', 2, 2, 2),
(3, 'Bolt', '2020-11-25', 'bolt.jpg', 1, 3, 1);

-- Inserir posts
INSERT INTO post (id_post, img_post, legenda_post, data_post, id_usuario) VALUES
(1, 'rex_brincando.jpg', 'Rex brincando no parque!', NOW(), 1),
(2, 'mimi_dormindo.jpg', 'Mimi tirando sua soneca.', NOW(), 2),
(3, 'bolt_correndo.jpg', 'Bolt em ação no campo.', NOW(), 1);

-- Inserir curtidas
INSERT INTO curtida (id_curtida, data_curt, id_post, id_usuario) VALUES
(1, NOW(), 1, 2),
(2, NOW(), 2, 1),
(3, NOW(), 3, 3);

-- Inserir comentários
INSERT INTO comentario (id_comentario, texto_comen, data_comen, id_usuario, id_post) VALUES
(1, 'Que fofo!', NOW(), 2, 1),
(2, 'Linda foto da Mimi!', NOW(), 1, 2),
(3, 'Esse cachorro é rápido mesmo!', NOW(), 3, 3);

-- Inserir mercados
INSERT INTO market (id_market, nome_market, tipo_market) VALUES
(1, 'Pet Center', 'Pet Shop');

-- Inserir produtos
INSERT INTO produto (id_produto, nome_produto, preco_produto, estoque_produto, id_market) VALUES
(1, 'Ração Premium', 150.00, 20, 1),
(2, 'Caminha para Pets', 200.00, 10, 1),
(3, 'Brinquedo Bola', 30.00, 50, 1);

-- Inserir compras
INSERT INTO compra (id_compra, qtd_compra, data_compra, status_compra, id_usuario, id_produto) VALUES
(1, 2, NOW(), 'Concluida', 1, 1),
(2, 1, NOW(), 'Pendente', 2, 2),
(3, 5, NOW(), 'Concluida', 3, 3);

-- Inserir ONGs
INSERT INTO ong (id_ong, nome_ong, tel_ong, email_ong) VALUES
(1, 'Amigos dos Bichos', '1122223333', 'contato@amigosbichos.org');









